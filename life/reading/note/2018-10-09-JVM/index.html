<!doctype html><html lang=zh class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=description content="Thinking Drafts"><link href=https://wiki.leay.net/life/reading/note/2018-10-09-JVM/ rel=canonical><meta name=author content=hqweay><meta name=lang:clipboard.copy content=复制><meta name=lang:clipboard.copied content=已复制><meta name=lang:search.language content="en, ja"><meta name=lang:search.pipeline.stopwords content=True><meta name=lang:search.pipeline.trimmer content=True><meta name=lang:search.result.none content=没有找到符合条件的结果><meta name=lang:search.result.one content="找到 1 个符合条件的结果"><meta name=lang:search.result.other content="# 个符合条件的结果"><meta name=lang:search.tokenizer content=[\uff0c\u3002]+><link rel="shortcut icon" href=../../../../img/favicon.ico><meta name=generator content="mkdocs-1.1, mkdocs-material-4.6.3"><title>JVM 笔记</title><link rel=stylesheet href=../../../../assets/stylesheets/application.adb8469c.css><link rel=stylesheet href=../../../../assets/stylesheets/application-palette.a8b3c06d.css><meta name=theme-color content=#3f51b5><script src=../../../../assets/javascripts/modernizr.86422ebf.js></script><link href=https://fonts.gstatic.com rel=preconnect crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Noto+Serif+SC:300,400,400i,700%7CRoboto+Mono&display=fallback"><style>body,input{font-family:"Noto Serif SC","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style><link rel=stylesheet href=../../../../assets/fonts/material-icons.css><script>
  window.ga = window.ga || function() {
    (ga.q = ga.q || []).push(arguments)
  }
  ga.l = +new Date
  /* Setup integration and send page view */
  ga("create", "UA-105976066-3", "wiki.leay.net")
  ga("set", "anonymizeIp", true)
  ga("send", "pageview")
  /* Register handler to log search on blur */
  document.addEventListener("DOMContentLoaded", () => {
    if (document.forms.search) {
      var query = document.forms.search.query
      query.addEventListener("blur", function() {
        if (this.value) {
          var path = document.location.pathname;
          ga("send", "pageview", path + "?q=" + this.value)
        }
      })
    }
  })
</script><script async src=https://www.google-analytics.com/analytics.js></script></head> <body dir=ltr data-md-color-primary=indigo data-md-color-accent=indigo> <svg class=md-svg> <defs> <svg xmlns=http://www.w3.org/2000/svg width=416 height=448 viewbox="0 0 416 448" id=__github><path fill=currentColor d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg> </defs> </svg> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay data-md-component=overlay for=__drawer></label> <a href=#changelog tabindex=0 class=md-skip> 跳转至 </a> <header class=md-header data-md-component=header> <nav class="md-header-nav md-grid"> <div class=md-flex> <div class="md-flex__cell md-flex__cell--shrink"> <a href=https://wiki.leay.net/ title="Hqweay's Wiki" aria-label="Hqweay's Wiki" class="md-header-nav__button md-logo"> <i class=md-icon></i> </a> </div> <div class="md-flex__cell md-flex__cell--shrink"> <label class="md-icon md-icon--menu md-header-nav__button" for=__drawer></label> </div> <div class="md-flex__cell md-flex__cell--stretch"> <div class="md-flex__ellipsis md-header-nav__title" data-md-component=title> <span class=md-header-nav__topic> Hqweay's Wiki </span> <span class=md-header-nav__topic> JVM 笔记 </span> </div> </div> <div class="md-flex__cell md-flex__cell--shrink"> <label class="md-icon md-icon--search md-header-nav__button" for=__search></label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input aria-label=search name=query placeholder=搜索 autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=query data-md-state=active> <label class="md-icon md-search__icon" for=__search></label> <button type=reset class="md-icon md-search__icon" data-md-component=reset tabindex=-1> &#xE5CD; </button> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=result> <div class=md-search-result__meta> 键入以开始搜索 </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> </div> <div class="md-flex__cell md-flex__cell--shrink"> <div class=md-header-nav__source> <a href=https://github.com/hqweay/my-mkdocs/ title="前往 Github 仓库" class=md-source data-md-source=github> <div class=md-source__icon> <svg viewbox="0 0 24 24" width=24 height=24> <use xlink:href=#__github width=24 height=24></use> </svg> </div> <div class=md-source__repository> hqweay/my-mkdocs </div> </a> </div> </div> </div> </nav> </header> <div class=md-container> <nav class="md-tabs md-tabs--active" data-md-component=tabs> <div class="md-tabs__inner md-grid"> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../../../.. class=md-tabs__link> About </a> </li> <li class=md-tabs__item> <a href=../../../../docs/ class=md-tabs__link> Docs </a> </li> <li class=md-tabs__item> <a href=../../ class="md-tabs__link md-tabs__link--active"> Life </a> </li> <li class=md-tabs__item> <a href=../../../../study/draft/try-wiki/ class=md-tabs__link> Study </a> </li> <li class=md-tabs__item> <a href=../../../../tech/code/frontend/2017-09-14-easy-web-test/ class=md-tabs__link> Tech </a> </li> </ul> </div> </nav> <main class=md-main role=main> <div class="md-main__inner md-grid" data-md-component=container> <div class="md-sidebar md-sidebar--primary" data-md-component=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" data-md-level=0> <label class="md-nav__title md-nav__title--site" for=__drawer> <a href=https://wiki.leay.net/ title="Hqweay's Wiki" class="md-nav__button md-logo"> <i class=md-icon></i> </a> Hqweay's Wiki </label> <div class=md-nav__source> <a href=https://github.com/hqweay/my-mkdocs/ title="前往 Github 仓库" class=md-source data-md-source=github> <div class=md-source__icon> <svg viewbox="0 0 24 24" width=24 height=24> <use xlink:href=#__github width=24 height=24></use> </svg> </div> <div class=md-source__repository> hqweay/my-mkdocs </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../.. title=About class=md-nav__link> About </a> </li> <li class=md-nav__item> <a href=../../../../test/ title=特殊语法 class=md-nav__link> 特殊语法 </a> </li> <li class=md-nav__item> <a href=../../../../web-page/ title=静态文档导航 class=md-nav__link> 静态文档导航 </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-4 type=checkbox id=nav-4> <label class=md-nav__link for=nav-4> Docs </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class=md-nav__title for=nav-4> Docs </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../docs/ title=About class=md-nav__link> About </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-4-2 type=checkbox id=nav-4-2> <label class=md-nav__link for=nav-4-2> English </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-4-2> English </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-4-2-1 type=checkbox id=nav-4-2-1> <label class=md-nav__link for=nav-4-2-1> A Programmers Guide to English </label> <nav class=md-nav data-md-component=collapsible data-md-level=3> <label class=md-nav__title for=nav-4-2-1> A Programmers Guide to English </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../docs/english/A-Programmers-Guide-to-English/ title="A Programmer's Guide to English" class=md-nav__link> A Programmer's Guide to English </a> </li> <li class=md-nav__item> <a href=../../../../docs/english/A-Programmers-Guide-to-English/SUMMARY/ title=Summary class=md-nav__link> Summary </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-4-2-1-3 type=checkbox id=nav-4-2-1-3> <label class=md-nav__link for=nav-4-2-1-3> Essence </label> <nav class=md-nav data-md-component=collapsible data-md-level=4> <label class=md-nav__title for=nav-4-2-1-3> Essence </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../docs/english/A-Programmers-Guide-to-English/essence/ title=语言学习的本质浅析 class=md-nav__link> 语言学习的本质浅析 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-4-2-1-4 type=checkbox id=nav-4-2-1-4> <label class=md-nav__link for=nav-4-2-1-4> Make a program </label> <nav class=md-nav data-md-component=collapsible data-md-level=4> <label class=md-nav__title for=nav-4-2-1-4> Make a program </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../docs/english/A-Programmers-Guide-to-English/make-a-program/ title=如何构建一个识别英语的程序 class=md-nav__link> 如何构建一个识别英语的程序 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-4-2-1-5 type=checkbox id=nav-4-2-1-5> <label class=md-nav__link for=nav-4-2-1-5> Qa </label> <nav class=md-nav data-md-component=collapsible data-md-level=4> <label class=md-nav__title for=nav-4-2-1-5> Qa </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../docs/english/A-Programmers-Guide-to-English/qa/ title="常见问题 QA" class=md-nav__link> 常见问题 QA </a> </li> <li class=md-nav__item> <a href=../../../../docs/english/A-Programmers-Guide-to-English/qa/WhyPTE/ title="为什么我选择 PTE 考试" class=md-nav__link> 为什么我选择 PTE 考试 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-4-2-1-6 type=checkbox id=nav-4-2-1-6> <label class=md-nav__link for=nav-4-2-1-6> Resources </label> <nav class=md-nav data-md-component=collapsible data-md-level=4> <label class=md-nav__title for=nav-4-2-1-6> Resources </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../docs/english/A-Programmers-Guide-to-English/resources/ title=资料、工具推荐和扩展阅读 class=md-nav__link> 资料、工具推荐和扩展阅读 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-4-2-1-7 type=checkbox id=nav-4-2-1-7> <label class=md-nav__link for=nav-4-2-1-7> Training </label> <nav class=md-nav data-md-component=collapsible data-md-level=4> <label class=md-nav__title for=nav-4-2-1-7> Training </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../docs/english/A-Programmers-Guide-to-English/training/ title=我的训练方法 class=md-nav__link> 我的训练方法 </a> </li> <li class=md-nav__item> <a href=../../../../docs/english/A-Programmers-Guide-to-English/training/KnowledgeBase/ title=扩充语料库的训练方法 class=md-nav__link> 扩充语料库的训练方法 </a> </li> <li class=md-nav__item> <a href=../../../../docs/english/A-Programmers-Guide-to-English/training/ListeningandSpeaking/ title=发音和听力训练方法 class=md-nav__link> 发音和听力训练方法 </a> </li> <li class=md-nav__item> <a href=../../../../docs/english/A-Programmers-Guide-to-English/training/Thinking/ title=英语思维训练 class=md-nav__link> 英语思维训练 </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-4-2-2 type=checkbox id=nav-4-2-2> <label class=md-nav__link for=nav-4-2-2> English level up tips for Chinese </label> <nav class=md-nav data-md-component=collapsible data-md-level=3> <label class=md-nav__title for=nav-4-2-2> English level up tips for Chinese </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../docs/english/English-level-up-tips-for-Chinese/ title=English-level-up-tips-for-Chinese class=md-nav__link> English-level-up-tips-for-Chinese </a> </li> <li class=md-nav__item> <a href=../../../../docs/english/English-level-up-tips-for-Chinese/SUMMARY/ title=Summary class=md-nav__link> Summary </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-4-2-2-3 type=checkbox id=nav-4-2-2-3> <label class=md-nav__link for=nav-4-2-2-3> Part 1 </label> <nav class=md-nav data-md-component=collapsible data-md-level=4> <label class=md-nav__title for=nav-4-2-2-3> Part 1 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../docs/english/English-level-up-tips-for-Chinese/part-1/1-understanding/ title=认知篇 class=md-nav__link> 认知篇 </a> </li> <li class=md-nav__item> <a href=../../../../docs/english/English-level-up-tips-for-Chinese/part-1/2-vocabulary/ title=单词篇 class=md-nav__link> 单词篇 </a> </li> <li class=md-nav__item> <a href=../../../../docs/english/English-level-up-tips-for-Chinese/part-1/3-listening/ title=听力篇 class=md-nav__link> 听力篇 </a> </li> <li class=md-nav__item> <a href=../../../../docs/english/English-level-up-tips-for-Chinese/part-1/4-reading/ title=阅读篇 class=md-nav__link> 阅读篇 </a> </li> <li class=md-nav__item> <a href=../../../../docs/english/English-level-up-tips-for-Chinese/part-1/5-speaking/ title="5 speaking" class=md-nav__link> 5 speaking </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-4-2-2-4 type=checkbox id=nav-4-2-2-4> <label class=md-nav__link for=nav-4-2-2-4> Part 2 </label> <nav class=md-nav data-md-component=collapsible data-md-level=4> <label class=md-nav__title for=nav-4-2-2-4> Part 2 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../docs/english/English-level-up-tips-for-Chinese/part-2/x-misc/ title=扯淡篇 class=md-nav__link> 扯淡篇 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-4-2-2-5 type=checkbox id=nav-4-2-2-5> <label class=md-nav__link for=nav-4-2-2-5> Word list </label> <nav class=md-nav data-md-component=collapsible data-md-level=4> <label class=md-nav__title for=nav-4-2-2-5> Word list </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../docs/english/English-level-up-tips-for-Chinese/word-list/Go/ title=Go class=md-nav__link> Go </a> </li> <li class=md-nav__item> <a href=../../../../docs/english/English-level-up-tips-for-Chinese/word-list/Java/ title=Java class=md-nav__link> Java </a> </li> <li class=md-nav__item> <a href=../../../../docs/english/English-level-up-tips-for-Chinese/word-list/JavaScript/ title=JavaScript class=md-nav__link> JavaScript </a> </li> <li class=md-nav__item> <a href=../../../../docs/english/English-level-up-tips-for-Chinese/word-list/PHP/ title=PHP class=md-nav__link> PHP </a> </li> <li class=md-nav__item> <a href=../../../../docs/english/English-level-up-tips-for-Chinese/word-list/Python/ title=Python class=md-nav__link> Python </a> </li> <li class=md-nav__item> <a href=../../../../docs/english/English-level-up-tips-for-Chinese/word-list/Swift/ title=Swift class=md-nav__link> Swift </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-4-2-3 type=checkbox id=nav-4-2-3> <label class=md-nav__link for=nav-4-2-3> Everyone can use english </label> <nav class=md-nav data-md-component=collapsible data-md-level=3> <label class=md-nav__title for=nav-4-2-3> Everyone can use english </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../docs/english/everyone-can-use-english/ title=人人都能用英语 class=md-nav__link> 人人都能用英语 </a> </li> <li class=md-nav__item> <a href=../../../../docs/english/everyone-can-use-english/chapter1/ title="第一章 起点" class=md-nav__link> 第一章 起点 </a> </li> <li class=md-nav__item> <a href=../../../../docs/english/everyone-can-use-english/chapter2/ title="第二章 口语" class=md-nav__link> 第二章 口语 </a> </li> <li class=md-nav__item> <a href=../../../../docs/english/everyone-can-use-english/chapter3/ title="第三章 语音" class=md-nav__link> 第三章 语音 </a> </li> <li class=md-nav__item> <a href=../../../../docs/english/everyone-can-use-english/chapter4/ title="第四章 朗读" class=md-nav__link> 第四章 朗读 </a> </li> <li class=md-nav__item> <a href=../../../../docs/english/everyone-can-use-english/chapter5/ title="第五章 词典" class=md-nav__link> 第五章 词典 </a> </li> <li class=md-nav__item> <a href=../../../../docs/english/everyone-can-use-english/chapter6/ title="第六章 语法" class=md-nav__link> 第六章 语法 </a> </li> <li class=md-nav__item> <a href=../../../../docs/english/everyone-can-use-english/chapter7/ title="第七章 精读" class=md-nav__link> 第七章 精读 </a> </li> <li class=md-nav__item> <a href=../../../../docs/english/everyone-can-use-english/chapter8/ title="第八章 叮嘱" class=md-nav__link> 第八章 叮嘱 </a> </li> <li class=md-nav__item> <a href=../../../../docs/english/everyone-can-use-english/end/ title=后记 class=md-nav__link> 后记 </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-4-3 type=checkbox id=nav-4-3> <label class=md-nav__link for=nav-4-3> Writing </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-4-3> Writing </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-4-3-1 type=checkbox id=nav-4-3-1> <label class=md-nav__link for=nav-4-3-1> Chinese copywriting guidelines </label> <nav class=md-nav data-md-component=collapsible data-md-level=3> <label class=md-nav__title for=nav-4-3-1> Chinese copywriting guidelines </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../docs/writing/chinese-copywriting-guidelines/ title=中文文案排版指北 class=md-nav__link> 中文文案排版指北 </a> </li> <li class=md-nav__item> <a href=../../../../docs/writing/chinese-copywriting-guidelines/CHANGELOG/ title=CHANGELOG class=md-nav__link> CHANGELOG </a> </li> <li class=md-nav__item> <a href=../../../../docs/writing/chinese-copywriting-guidelines/README.en-US/ title="Chinese Copywriting Guidelines" class=md-nav__link> Chinese Copywriting Guidelines </a> </li> <li class=md-nav__item> <a href=../../../../docs/writing/chinese-copywriting-guidelines/README.zh-CN/ title=中文文案排版指北 class=md-nav__link> 中文文案排版指北 </a> </li> <li class=md-nav__item> <a href=../../../../docs/writing/chinese-copywriting-guidelines/README.zh-HK/ title=中文文案排版指北 class=md-nav__link> 中文文案排版指北 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-4-3-2 type=checkbox id=nav-4-3-2> <label class=md-nav__link for=nav-4-3-2> Document style guide </label> <nav class=md-nav data-md-component=collapsible data-md-level=3> <label class=md-nav__title for=nav-4-3-2> Document style guide </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../docs/writing/document-style-guide/ title=Index class=md-nav__link> Index </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-4-3-2-2 type=checkbox id=nav-4-3-2-2> <label class=md-nav__link for=nav-4-3-2-2> Docs </label> <nav class=md-nav data-md-component=collapsible data-md-level=4> <label class=md-nav__title for=nav-4-3-2-2> Docs </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../docs/writing/document-style-guide/docs/marks/ title=标点符号 class=md-nav__link> 标点符号 </a> </li> <li class=md-nav__item> <a href=../../../../docs/writing/document-style-guide/docs/number/ title=数值 class=md-nav__link> 数值 </a> </li> <li class=md-nav__item> <a href=../../../../docs/writing/document-style-guide/docs/paragraph/ title=段落 class=md-nav__link> 段落 </a> </li> <li class=md-nav__item> <a href=../../../../docs/writing/document-style-guide/docs/reference/ title=参考链接 class=md-nav__link> 参考链接 </a> </li> <li class=md-nav__item> <a href=../../../../docs/writing/document-style-guide/docs/structure/ title=文档体系 class=md-nav__link> 文档体系 </a> </li> <li class=md-nav__item> <a href=../../../../docs/writing/document-style-guide/docs/text/ title=文本 class=md-nav__link> 文本 </a> </li> <li class=md-nav__item> <a href=../../../../docs/writing/document-style-guide/docs/title/ title=标题 class=md-nav__link> 标题 </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-5 type=checkbox id=nav-5 checked> <label class=md-nav__link for=nav-5> Life </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class=md-nav__title for=nav-5> Life </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-5-1 type=checkbox id=nav-5-1 checked> <label class=md-nav__link for=nav-5-1> Reading </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-5-1> Reading </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../ title=阅读 class=md-nav__link> 阅读 </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-5-1-2 type=checkbox id=nav-5-1-2> <label class=md-nav__link for=nav-5-1-2> Mark </label> <nav class=md-nav data-md-component=collapsible data-md-level=3> <label class=md-nav__title for=nav-5-1-2> Mark </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../mark/back-up/ title="2019 暑假备份" class=md-nav__link> 2019 暑假备份 </a> </li> <li class=md-nav__item> <a href=../../mark/back/ title=例行收集 class=md-nav__link> 例行收集 </a> </li> <li class=md-nav__item> <a href=../../mark/efficiency-time/ title=效率、时间、鸡汤 class=md-nav__link> 效率、时间、鸡汤 </a> </li> <li class=md-nav__item> <a href=../../mark/fiction/ title=小说 class=md-nav__link> 小说 </a> </li> <li class=md-nav__item> <a href=../../mark/films-remark/ title=影评、电影 class=md-nav__link> 影评、电影 </a> </li> <li class=md-nav__item> <a href=../../mark/fo/ title=佛 class=md-nav__link> 佛 </a> </li> <li class=md-nav__item> <a href=../../mark/hackers-others/ title=互联网、思维方式 class=md-nav__link> 互联网、思维方式 </a> </li> <li class=md-nav__item> <a href=../../mark/hooked-media/ title=媒介反思 class=md-nav__link> 媒介反思 </a> </li> <li class=md-nav__item> <a href=../../mark/isaka-kotaro/ title=伊坂幸太郎 class=md-nav__link> 伊坂幸太郎 </a> </li> <li class=md-nav__item> <a href=../../mark/knote/ title=整理 class=md-nav__link> 整理 </a> </li> <li class=md-nav__item> <a href=../../mark/mark-knote/ title=浪费时间 class=md-nav__link> 浪费时间 </a> </li> <li class=md-nav__item> <a href=../../mark/meaning/ title=思维方式 class=md-nav__link> 思维方式 </a> </li> <li class=md-nav__item> <a href=../../mark/morimi-tomihiko/ title=森见登美彦的文字好有趣啊! class=md-nav__link> 森见登美彦的文字好有趣啊! </a> </li> <li class=md-nav__item> <a href=../../mark/murakamo-haruki/ title=村上春树 class=md-nav__link> 村上春树 </a> </li> <li class=md-nav__item> <a href=../../mark/no-fiction/ title=非虚构类 class=md-nav__link> 非虚构类 </a> </li> <li class=md-nav__item> <a href=../../mark/paper/ title=论文式总结 class=md-nav__link> 论文式总结 </a> </li> <li class=md-nav__item> <a href=../../mark/poem/ title=诗歌 class=md-nav__link> 诗歌 </a> </li> <li class=md-nav__item> <a href=../../mark/sence/ title=哲学相关通俗读物 class=md-nav__link> 哲学相关通俗读物 </a> </li> <li class=md-nav__item> <a href=../../mark/the-little-prince/ title="The Little Prince" class=md-nav__link> The Little Prince </a> </li> <li class=md-nav__item> <a href=../../mark/universe/ title=物理科普读物 class=md-nav__link> 物理科普读物 </a> </li> <li class=md-nav__item> <a href=../../mark/utopia/ title=乌托邦小说世界关于书籍的冷幽默 class=md-nav__link> 乌托邦小说世界关于书籍的冷幽默 </a> </li> <li class=md-nav__item> <a href=../../mark/western-politics/ title=政哲 class=md-nav__link> 政哲 </a> </li> <li class=md-nav__item> <a href=../../mark/what-we-talk-about/ title=日本文学 class=md-nav__link> 日本文学 </a> </li> <li class=md-nav__item> <a href=../../mark/wuxia/ title=武侠 class=md-nav__link> 武侠 </a> </li> <li class=md-nav__item> <a href=../../mark/xiao-bo/ title=王小波 class=md-nav__link> 王小波 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-5-1-3 type=checkbox id=nav-5-1-3 checked> <label class=md-nav__link for=nav-5-1-3> Note </label> <nav class=md-nav data-md-component=collapsible data-md-level=3> <label class=md-nav__title for=nav-5-1-3> Note </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../2017-09-02-book-JavaScript-DOM/ title="《JavaScript DOM 编程艺术》" class=md-nav__link> 《JavaScript DOM 编程艺术》 </a> </li> <li class=md-nav__item> <a href=../2017-09-09-coding-javascript-down/ title="尽量把 JavaScript 代码放到 HTML 网页底部" class=md-nav__link> 尽量把 JavaScript 代码放到 HTML 网页底部 </a> </li> <li class=md-nav__item> <a href=../2018-05-23-HTTP/ title="《HTTP 图解》" class=md-nav__link> 《HTTP 图解》 </a> </li> <li class=md-nav__item> <a href=../2018-06-07-computer/ title=计算机系统基础 class=md-nav__link> 计算机系统基础 </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-toggle md-nav__toggle" data-md-toggle=toc type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> JVM 笔记 </label> <a href=./ title="JVM 笔记" class="md-nav__link md-nav__link--active"> JVM 笔记 </a> <nav class="md-nav md-nav--secondary"> <label class=md-nav__title for=__toc>目录</label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#changelog class=md-nav__link> ChangeLog </a> </li> <li class=md-nav__item> <a href=#_1 class=md-nav__link> 说明 </a> </li> <li class=md-nav__item> <a href=#_2 class=md-nav__link> 前言 </a> </li> <li class=md-nav__item> <a href=#_3 class=md-nav__link> 流程 </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#jvm class=md-nav__link> JVM 执行的简单流程 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_4 class=md-nav__link> 类文件结构 </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_5 class=md-nav__link> 类文件（二进制编码） </a> </li> <li class=md-nav__item> <a href=#_6 class=md-nav__link> 格式 </a> </li> <li class=md-nav__item> <a href=#_7 class=md-nav__link> ...... </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_8 class=md-nav__link> 类加载 </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_9 class=md-nav__link> 时机 </a> </li> <li class=md-nav__item> <a href=#_10 class=md-nav__link> 类加载器 </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_11 class=md-nav__link> 双亲委派模型 </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_12 class=md-nav__link> 内存管理机制 </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_13 class=md-nav__link> 运行时数据区 </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_14 class=md-nav__link> 程序计数器 </a> </li> <li class=md-nav__item> <a href=#_15 class=md-nav__link> 虚拟机栈 </a> </li> <li class=md-nav__item> <a href=#_16 class=md-nav__link> 本地方法栈 </a> </li> <li class=md-nav__item> <a href=#java class=md-nav__link> JAVA 堆 </a> </li> <li class=md-nav__item> <a href=#_17 class=md-nav__link> 方法区 </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_18 class=md-nav__link> 数据如何创建，布局，访问？ </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#java-class class=md-nav__link> 对象的创建（普通 java 对象，不包括数组和 class 对象等） </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_19 class=md-nav__link> 为对象分配空间 </a> </li> <li class=md-nav__item> <a href=#_20 class=md-nav__link> 考虑到并发 </a> </li> <li class=md-nav__item> <a href=#_21 class=md-nav__link> 内存分配完成后，将内存空间初始化为零值（不包括对象头） </a> </li> <li class=md-nav__item> <a href=#_22 class=md-nav__link> 对对象进行设置 </a> </li> <li class=md-nav__item> <a href=#_23 class=md-nav__link> 最后 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_24 class=md-nav__link> 对象的内存布局 </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../2018-11-25-computer/ title=计算机系统概论 class=md-nav__link> 计算机系统概论 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-5-1-4 type=checkbox id=nav-5-1-4> <label class=md-nav__link for=nav-5-1-4> Review </label> <nav class=md-nav data-md-component=collapsible data-md-level=3> <label class=md-nav__title for=nav-5-1-4> Review </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../review/2017-09-28-say-something/ title=听你吹牛的闲暇时光 class=md-nav__link> 听你吹牛的闲暇时光 </a> </li> <li class=md-nav__item> <a href=../../review/2017-09-29-wuxia/ title="《流星 蝴蝶 剑》简记" class=md-nav__link> 《流星 蝴蝶 剑》简记 </a> </li> <li class=md-nav__item> <a href=../../review/2017-12-30-xiao-bo/ title=波波老师 class=md-nav__link> 波波老师 </a> </li> <li class=md-nav__item> <a href=../../review/2018-01-17-lai-zi-xin-shi-jie/ title=《来自新世界》 class=md-nav__link> 《来自新世界》 </a> </li> <li class=md-nav__item> <a href=../../review/2018-10-06-October/ title=科普谈起 class=md-nav__link> 科普谈起 </a> </li> <li class=md-nav__item> <a href=../../review/2019-09-07-story/ title=从网络小说谈起。 class=md-nav__link> 从网络小说谈起。 </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-5-2 type=checkbox id=nav-5-2> <label class=md-nav__link for=nav-5-2> Watching </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-5-2> Watching </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../watching/2017-08-29-watch-movies-rencently/ title=最近看的几部电影 class=md-nav__link> 最近看的几部电影 </a> </li> <li class=md-nav__item> <a href=../../../watching/2017-10-13-september-movies-record/ title=九月观影记录 class=md-nav__link> 九月观影记录 </a> </li> <li class=md-nav__item> <a href=../../../watching/2017-11-01-October-summary/ title=十月看片与非专业类阅读 class=md-nav__link> 十月看片与非专业类阅读 </a> </li> <li class=md-nav__item> <a href=../../../watching/2017-12-01-1112/ title=观影与阅读记录 class=md-nav__link> 观影与阅读记录 </a> </li> <li class=md-nav__item> <a href=../../../watching/2018-01-10-12/ title=最近看片与阅读 class=md-nav__link> 最近看片与阅读 </a> </li> <li class=md-nav__item> <a href=../../../watching/2018-02-06-january/ title=一月观影记录 class=md-nav__link> 一月观影记录 </a> </li> <li class=md-nav__item> <a href=../../../watching/2018-03-08-February/ title=二月至今观影记录 class=md-nav__link> 二月至今观影记录 </a> </li> <li class=md-nav__item> <a href=../../../watching/2018-03-31-March/ title=三月观影记录 class=md-nav__link> 三月观影记录 </a> </li> <li class=md-nav__item> <a href=../../../watching/2018-12-26-Smultronst%C3%A4llet/ title=野草莓 class=md-nav__link> 野草莓 </a> </li> <li class=md-nav__item> <a href=../../../watching/2019-10-10-October/ title=克服本能就是善良吗？（从十月新番胡扯……） class=md-nav__link> 克服本能就是善良吗？（从十月新番胡扯……） </a> </li> <li class=md-nav__item> <a href=../../../watching/2019-11-04-bgm/ title=无人声环 class=md-nav__link> 无人声环 </a> </li> <li class=md-nav__item> <a href=../../../watching/2019-11-13-the-end-of-the-world/ title="The End of the Fucking World" class=md-nav__link> The End of the Fucking World </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-6 type=checkbox id=nav-6> <label class=md-nav__link for=nav-6> Study </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class=md-nav__title for=nav-6> Study </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-6-1 type=checkbox id=nav-6-1> <label class=md-nav__link for=nav-6-1> Draft </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-6-1> Draft </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../study/draft/try-wiki/ title="一些 Wiki 工具的尝试" class=md-nav__link> 一些 Wiki 工具的尝试 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-6-2 type=checkbox id=nav-6-2> <label class=md-nav__link for=nav-6-2> Language </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-6-2> Language </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../study/language/%E6%97%A5%E8%AF%AD%E5%85%A5%E9%97%A8/ title=日语入门 class=md-nav__link> 日语入门 </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-7 type=checkbox id=nav-7> <label class=md-nav__link for=nav-7> Tech </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class=md-nav__title for=nav-7> Tech </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-7-1 type=checkbox id=nav-7-1> <label class=md-nav__link for=nav-7-1> Code </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-7-1> Code </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-7-1-1 type=checkbox id=nav-7-1-1> <label class=md-nav__link for=nav-7-1-1> Frontend </label> <nav class=md-nav data-md-component=collapsible data-md-level=3> <label class=md-nav__title for=nav-7-1-1> Frontend </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../tech/code/frontend/2017-09-14-easy-web-test/ title=大表哥的电商网页实战体验 class=md-nav__link> 大表哥的电商网页实战体验 </a> </li> <li class=md-nav__item> <a href=../../../../tech/code/frontend/2017-09-23-know-nothing/ title=知其然不知其所以然 class=md-nav__link> 知其然不知其所以然 </a> </li> <li class=md-nav__item> <a href=../../../../tech/code/frontend/2018-06-08-responsive/ title=大表哥的响应式设计 class=md-nav__link> 大表哥的响应式设计 </a> </li> <li class=md-nav__item> <a href=../../../../tech/code/frontend/zh-javascript-info/ title="现代 JavaScript 教程摘录" class=md-nav__link> 现代 JavaScript 教程摘录 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-7-1-2 type=checkbox id=nav-7-1-2> <label class=md-nav__link for=nav-7-1-2> Go </label> <nav class=md-nav data-md-component=collapsible data-md-level=3> <label class=md-nav__title for=nav-7-1-2> Go </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../tech/code/go/01/ title=01 class=md-nav__link> 01 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-7-1-3 type=checkbox id=nav-7-1-3> <label class=md-nav__link for=nav-7-1-3> Java </label> <nav class=md-nav data-md-component=collapsible data-md-level=3> <label class=md-nav__title for=nav-7-1-3> Java </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../tech/code/java/2017-12-30-Java%20Web/ title="从 url 访问服务器资源讨论 Java Web 中的 Servlet" class=md-nav__link> 从 url 访问服务器资源讨论 Java Web 中的 Servlet </a> </li> <li class=md-nav__item> <a href=../../../../tech/code/java/2018-11-23-ArrayList/ title=ArrayList class=md-nav__link> ArrayList </a> </li> <li class=md-nav__item> <a href=../../../../tech/code/java/2019-01-31-HashMap/ title=HashMap class=md-nav__link> HashMap </a> </li> <li class=md-nav__item> <a href=../../../../tech/code/java/2019-02-01-String/ title="String 分析(栈,堆,字符串常量池)" class=md-nav__link> String 分析(栈,堆,字符串常量池) </a> </li> <li class=md-nav__item> <a href=../../../../tech/code/java/2019-02-03-String/ title=String、StringBuffer、StingBuilder class=md-nav__link> String、StringBuffer、StingBuilder </a> </li> <li class=md-nav__item> <a href=../../../../tech/code/java/2019-02-06-Hashtable/ title=Hashtable class=md-nav__link> Hashtable </a> </li> <li class=md-nav__item> <a href=../../../../tech/code/java/2019-03-22-string-pool/ title=字符串常量池到底保存的是字符串对象还是字符串对象的引用? class=md-nav__link> 字符串常量池到底保存的是字符串对象还是字符串对象的引用? </a> </li> <li class=md-nav__item> <a href=../../../../tech/code/java/2019-03-23-Java-Thread-pool/ title="Java 线程池" class=md-nav__link> Java 线程池 </a> </li> <li class=md-nav__item> <a href=../../../../tech/code/java/2019-03-29-Java%20Web/ title="Java Web 启动流程" class=md-nav__link> Java Web 启动流程 </a> </li> <li class=md-nav__item> <a href=../../../../tech/code/java/2019-04-05-AQS-lock/ title="AQS 与 Java 锁的具体实现" class=md-nav__link> AQS 与 Java 锁的具体实现 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-7-1-4 type=checkbox id=nav-7-1-4> <label class=md-nav__link for=nav-7-1-4> Projects </label> <nav class=md-nav data-md-component=collapsible data-md-level=3> <label class=md-nav__title for=nav-7-1-4> Projects </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../tech/code/projects/2018-05-07-big-data/ title="大数据 Demo （采集、处理、应用）复盘" class=md-nav__link> 大数据 Demo （采集、处理、应用）复盘 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-7-1-5 type=checkbox id=nav-7-1-5> <label class=md-nav__link for=nav-7-1-5> Spring </label> <nav class=md-nav data-md-component=collapsible data-md-level=3> <label class=md-nav__title for=nav-7-1-5> Spring </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../tech/code/spring/2018-09-01-Spring%20Security/ title="Spring Boot 与 Spring Security" class=md-nav__link> Spring Boot 与 Spring Security </a> </li> <li class=md-nav__item> <a href=../../../../tech/code/spring/2019-03-29-Spring-init/ title="Spring 启动流程与简单源码分析" class=md-nav__link> Spring 启动流程与简单源码分析 </a> </li> <li class=md-nav__item> <a href=../../../../tech/code/spring/2019-04-06-Spring-MVC/ title="Spring MVC 简单源码分析" class=md-nav__link> Spring MVC 简单源码分析 </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-7-2 type=checkbox id=nav-7-2> <label class=md-nav__link for=nav-7-2> Config </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-7-2> Config </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-7-2-1 type=checkbox id=nav-7-2-1> <label class=md-nav__link for=nav-7-2-1> Git </label> <nav class=md-nav data-md-component=collapsible data-md-level=3> <label class=md-nav__title for=nav-7-2-1> Git </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../tech/config/git/2018-02-01-git/ title="从 Git 管理项目浅谈" class=md-nav__link> 从 Git 管理项目浅谈 </a> </li> <li class=md-nav__item> <a href=../../../../tech/config/git/2019-08-10-git-merge/ title="Git 协作管理项目时不可避免的 merge 操作" class=md-nav__link> Git 协作管理项目时不可避免的 merge 操作 </a> </li> <li class=md-nav__item> <a href=../../../../tech/config/git/submodule/ title=submodule class=md-nav__link> submodule </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-7-2-2 type=checkbox id=nav-7-2-2> <label class=md-nav__link for=nav-7-2-2> Linux </label> <nav class=md-nav data-md-component=collapsible data-md-level=3> <label class=md-nav__title for=nav-7-2-2> Linux </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../tech/config/linux/2019-12-18-manjaro/ title="Manjaro 个人新装配置" class=md-nav__link> Manjaro 个人新装配置 </a> </li> <li class=md-nav__item> <a href=../../../../tech/config/linux/2020-02-23-archer-s-arch/ title="Archer`s Arch" class=md-nav__link> Archer`s Arch </a> </li> <li class=md-nav__item> <a href=../../../../tech/config/linux/fontconfig/ title="Arch Emoji fontconfig" class=md-nav__link> Arch Emoji fontconfig </a> </li> <li class=md-nav__item> <a href=../../../../tech/config/linux/softwares/ title=各种工具 class=md-nav__link> 各种工具 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-7-2-3 type=checkbox id=nav-7-2-3> <label class=md-nav__link for=nav-7-2-3> Tools </label> <nav class=md-nav data-md-component=collapsible data-md-level=3> <label class=md-nav__title for=nav-7-2-3> Tools </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../tech/config/tools/cz-conventional-changelog/ title=cz-conventional-changelog class=md-nav__link> cz-conventional-changelog </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-7-2-4 type=checkbox id=nav-7-2-4> <label class=md-nav__link for=nav-7-2-4> Undefined </label> <nav class=md-nav data-md-component=collapsible data-md-level=3> <label class=md-nav__title for=nav-7-2-4> Undefined </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../tech/config/undefined/2018-03-31-Generator-SpringBoot-Gradle/ title="MyBatis Generator + Spring Boot + Gradle 配置" class=md-nav__link> MyBatis Generator + Spring Boot + Gradle 配置 </a> </li> <li class=md-nav__item> <a href=../../../../tech/config/undefined/2018-06-25-VS-Code-Python/ title="VS Code 写 Python" class=md-nav__link> VS Code 写 Python </a> </li> <li class=md-nav__item> <a href=../../../../tech/config/undefined/2018-06-26-linux-kawa/ title="在 Linux 上使用 kawa" class=md-nav__link> 在 Linux 上使用 kawa </a> </li> <li class=md-nav__item> <a href=../../../../tech/config/undefined/2018-11-25-mysql/ title="【转】在 CentOS 上部署 MySQL 解压版" class=md-nav__link> 【转】在 CentOS 上部署 MySQL 解压版 </a> </li> <li class=md-nav__item> <a href=../../../../tech/config/undefined/2019-04-03-Redis-lock/ title="Redis 的分布式锁实现" class=md-nav__link> Redis 的分布式锁实现 </a> </li> <li class=md-nav__item> <a href=../../../../tech/config/undefined/2019-07-28-picGo/ title="Github + picGo ——有图床了" class=md-nav__link> Github + picGo ——有图床了 </a> </li> <li class=md-nav__item> <a href=../../../../tech/config/undefined/2019-11-18-linux-mount/ title="Linux 挂载分区/磁盘" class=md-nav__link> Linux 挂载分区/磁盘 </a> </li> <li class=md-nav__item> <a href=../../../../tech/config/undefined/2020-02-03-terminal-wifi/ title=把显卡驱动删了后在终端连热点 class=md-nav__link> 把显卡驱动删了后在终端连热点 </a> </li> <li class=md-nav__item> <a href=../../../../tech/config/undefined/2020-02-12-css/ title=一个引号引发的惨案 class=md-nav__link> 一个引号引发的惨案 </a> </li> <li class=md-nav__item> <a href=../../../../tech/config/undefined/2020-02-23-archer-s-arch/ title="Archer`s Arch" class=md-nav__link> Archer`s Arch </a> </li> <li class=md-nav__item> <a href=../../../../tech/config/undefined/2020-03-12-electron-vue/ title="用 Vue 写 Electron 的一次问题解决" class=md-nav__link> 用 Vue 写 Electron 的一次问题解决 </a> </li> <li class=md-nav__item> <a href=../../../../tech/config/undefined/2020-03-12-ttrss/ title="部署 TTRSS 遇到的一些有趣的东西" class=md-nav__link> 部署 TTRSS 遇到的一些有趣的东西 </a> </li> <li class=md-nav__item> <a href=../../../../tech/config/undefined/2020-04-02-hexo-asset-image/ title="hexo-next-theme 开启 lazyload 使用 hexo-asset-image 出问题了" class=md-nav__link> hexo-next-theme 开启 lazyload 使用 hexo-asset-image 出问题了 </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-7-3 type=checkbox id=nav-7-3> <label class=md-nav__link for=nav-7-3> Project </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-7-3> Project </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../tech/project/2017-12-21-xiao-zong-jie/ title=做个小小的总结 class=md-nav__link> 做个小小的总结 </a> </li> <li class=md-nav__item> <a href=../../../../tech/project/2018-05-07-big-data/ title="大数据 Demo （采集、处理、应用）复盘" class=md-nav__link> 大数据 Demo （采集、处理、应用）复盘 </a> </li> <li class=md-nav__item> <a href=../../../../tech/project/2018-06-25-tencent-news-spider-py/ title=腾讯新闻爬虫 class=md-nav__link> 腾讯新闻爬虫 </a> </li> <li class=md-nav__item> <a href=../../../../tech/project/2018-09-13-lite-terminal-home-page/ title=简单的仿终端主页 class=md-nav__link> 简单的仿终端主页 </a> </li> <li class=md-nav__item> <a href=../../../../tech/project/2019-01-11-tank/ title=花里胡哨的坦克大战 class=md-nav__link> 花里胡哨的坦克大战 </a> </li> <li class=md-nav__item> <a href=../../../../tech/project/2019-02-05-new-year/ title=大年初一（爬取豆瓣条目及吐槽） class=md-nav__link> 大年初一（爬取豆瓣条目及吐槽） </a> </li> <li class=md-nav__item> <a href=../../../../tech/project/2019-04-03-blog-project/ title=写博客 class=md-nav__link> 写博客 </a> </li> <li class=md-nav__item> <a href=../../../../tech/project/2019-06-17-nodejs/ title="MarkAll 导入豆瓣数据 —— NodeJS 写爬虫" class=md-nav__link> MarkAll 导入豆瓣数据 —— NodeJS 写爬虫 </a> </li> <li class=md-nav__item> <a href=../../../../tech/project/2019-11-15-Autumn-Json/ title="Autumn-From-Spring 自定义 BeanDefinitionReader" class=md-nav__link> Autumn-From-Spring 自定义 BeanDefinitionReader </a> </li> <li class=md-nav__item> <a href=../../../../tech/project/2019-11-15-bookmarkdown/ title="Chrome 插件——书签转 MarkDown" class=md-nav__link> Chrome 插件——书签转 MarkDown </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-7-4 type=checkbox id=nav-7-4> <label class=md-nav__link for=nav-7-4> Undefined </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-7-4> Undefined </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../tech/undefined/2017-08-10-then-start/ title=那就开始吧 class=md-nav__link> 那就开始吧 </a> </li> <li class=md-nav__item> <a href=../../../../tech/undefined/2017-08-16-Writing-is%20the-reward-of-writing-itself/ title=写就是写本身的报酬 class=md-nav__link> 写就是写本身的报酬 </a> </li> <li class=md-nav__item> <a href=../../../../tech/undefined/2017-11-19-change-my-blog/ title=【过时内容】嘿，我转移博客啦！ class=md-nav__link> 【过时内容】嘿，我转移博客啦！ </a> </li> <li class=md-nav__item> <a href=../../../../tech/undefined/2017-12-08-yao-guai-ji-yu-you-ren-bo/ title=妖怪唧唧与友人波波 class=md-nav__link> 妖怪唧唧与友人波波 </a> </li> <li class=md-nav__item> <a href=../../../../tech/undefined/2018-01-01-ubuntu/ title="折腾 ubuntu 与 win10 共存" class=md-nav__link> 折腾 ubuntu 与 win10 共存 </a> </li> <li class=md-nav__item> <a href=../../../../tech/undefined/2018-02-09-pc-system/ title="黑苹果与 Ubuntu 及 PC 折腾系统" class=md-nav__link> 黑苹果与 Ubuntu 及 PC 折腾系统 </a> </li> <li class=md-nav__item> <a href=../../../../tech/undefined/2018-03-12-install-Vmware-on-linux/ title="deepin 安装 VMware" class=md-nav__link> deepin 安装 VMware </a> </li> <li class=md-nav__item> <a href=../../../../tech/undefined/2018-03-31-SQL/ title="Spring Boot 开发遇到一些 SQL 问题" class=md-nav__link> Spring Boot 开发遇到一些 SQL 问题 </a> </li> <li class=md-nav__item> <a href=../../../../tech/undefined/2018-04-06-jquery-confrim/ title="JQuery-Confrim 的一点问题" class=md-nav__link> JQuery-Confrim 的一点问题 </a> </li> <li class=md-nav__item> <a href=../../../../tech/undefined/2018-04-06-some-plugins/ title="ECharts + PageHelper + Bootstrap Table" class=md-nav__link> ECharts + PageHelper + Bootstrap Table </a> </li> <li class=md-nav__item> <a href=../../../../tech/undefined/2018-04-09-js-in-thymeleaf/ title="Thymeleaf 里使用 JavaScript 时的注意事项" class=md-nav__link> Thymeleaf 里使用 JavaScript 时的注意事项 </a> </li> <li class=md-nav__item> <a href=../../../../tech/undefined/2018-04-09-spring-boot-gradle-yml-log4j2/ title="Spring Boot + Gradle + yml 配置 log4j2" class=md-nav__link> Spring Boot + Gradle + yml 配置 log4j2 </a> </li> <li class=md-nav__item> <a href=../../../../tech/undefined/2018-05-09-softwares/ title="Linux 常用软件" class=md-nav__link> Linux 常用软件 </a> </li> <li class=md-nav__item> <a href=../../../../tech/undefined/2018-05-30-hexo-image/ title="【可能过时】Hexo 一点问题（生成博文插入本地图片,修改文章路径）" class=md-nav__link> 【可能过时】Hexo 一点问题（生成博文插入本地图片,修改文章路径） </a> </li> <li class=md-nav__item> <a href=../../../../tech/undefined/2018-05-30-show/ title=如果给文章提供多种渲染方式 class=md-nav__link> 如果给文章提供多种渲染方式 </a> </li> <li class=md-nav__item> <a href=../../../../tech/undefined/2018-08-30-vue-music/ title="简单的单页应用(Vue CLI2 的简单使用)" class=md-nav__link> 简单的单页应用(Vue CLI2 的简单使用) </a> </li> <li class=md-nav__item> <a href=../../../../tech/undefined/2018-09-23-word-count/ title="WordCount 项目总结" class=md-nav__link> WordCount 项目总结 </a> </li> <li class=md-nav__item> <a href=../../../../tech/undefined/2020-02-06-markall-douban-backup/ title=豆瓣标记数据备份插件 class=md-nav__link> 豆瓣标记数据备份插件 </a> </li> <li class=md-nav__item> <a href=../../../../tech/undefined/2020-02-07-markall-douban-backup-yes/ title=【过时】又一个——豆瓣标记数据备份插件 class=md-nav__link> 【过时】又一个——豆瓣标记数据备份插件 </a> </li> <li class=md-nav__item> <a href=../../../../tech/undefined/2020-02-13-blog/ title=从分析本网站的网络请求谈起 class=md-nav__link> 从分析本网站的网络请求谈起 </a> </li> <li class=md-nav__item> <a href=../../../../tech/undefined/draft/ title=Draft class=md-nav__link> Draft </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary"> <label class=md-nav__title for=__toc>目录</label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#changelog class=md-nav__link> ChangeLog </a> </li> <li class=md-nav__item> <a href=#_1 class=md-nav__link> 说明 </a> </li> <li class=md-nav__item> <a href=#_2 class=md-nav__link> 前言 </a> </li> <li class=md-nav__item> <a href=#_3 class=md-nav__link> 流程 </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#jvm class=md-nav__link> JVM 执行的简单流程 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_4 class=md-nav__link> 类文件结构 </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_5 class=md-nav__link> 类文件（二进制编码） </a> </li> <li class=md-nav__item> <a href=#_6 class=md-nav__link> 格式 </a> </li> <li class=md-nav__item> <a href=#_7 class=md-nav__link> ...... </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_8 class=md-nav__link> 类加载 </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_9 class=md-nav__link> 时机 </a> </li> <li class=md-nav__item> <a href=#_10 class=md-nav__link> 类加载器 </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_11 class=md-nav__link> 双亲委派模型 </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_12 class=md-nav__link> 内存管理机制 </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_13 class=md-nav__link> 运行时数据区 </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_14 class=md-nav__link> 程序计数器 </a> </li> <li class=md-nav__item> <a href=#_15 class=md-nav__link> 虚拟机栈 </a> </li> <li class=md-nav__item> <a href=#_16 class=md-nav__link> 本地方法栈 </a> </li> <li class=md-nav__item> <a href=#java class=md-nav__link> JAVA 堆 </a> </li> <li class=md-nav__item> <a href=#_17 class=md-nav__link> 方法区 </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_18 class=md-nav__link> 数据如何创建，布局，访问？ </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#java-class class=md-nav__link> 对象的创建（普通 java 对象，不包括数组和 class 对象等） </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_19 class=md-nav__link> 为对象分配空间 </a> </li> <li class=md-nav__item> <a href=#_20 class=md-nav__link> 考虑到并发 </a> </li> <li class=md-nav__item> <a href=#_21 class=md-nav__link> 内存分配完成后，将内存空间初始化为零值（不包括对象头） </a> </li> <li class=md-nav__item> <a href=#_22 class=md-nav__link> 对对象进行设置 </a> </li> <li class=md-nav__item> <a href=#_23 class=md-nav__link> 最后 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_24 class=md-nav__link> 对象的内存布局 </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content> <article class="md-content__inner md-typeset"> <a href=https://github.com/hqweay/my-mkdocs/edit/master/docs/life/reading/note/2018-10-09-JVM.md title=编辑此页 class="md-icon md-content__icon">&#xE3C9;</a> <h1>JVM 笔记</h1> <h2 id=changelog>ChangeLog<a class=headerlink href=#changelog title="Permanent link">#</a></h2> <p>[update-2018-11-20] 类加载器</p> <h2 id=_1>说明<a class=headerlink href=#_1 title="Permanent link">#</a></h2> <p>本文来源于《深入理解 JAVA 虚拟机》一书的摘抄，网络资料，以及自己的理解。</p> <h2 id=_2>前言<a class=headerlink href=#_2 title="Permanent link">#</a></h2> <p><a href=/2018/06/07/computer/ >计算机系统基础</a></p> <p>这里有一些相关的东西，配合使用。</p> <p>不管什么语言，最终都需要转化为可以被物理机器直接识别的机器指令（再底层就是电流的变化等形式了，不提），机器语言程序与所运行的计算机硬件与软件之间有一个“桥梁”，这个在软件与硬件之间的东西叫做 <strong>指令集体系结构</strong> （ISA）。</p> <p>“虚拟机”是一个相对于“物理机”的概念，两者都有代码执行能力，物理机的执行引擎是直接建立在处理器，硬件，指令集，操作系统层面上的。而虚拟机的执行引擎则由自己实现，因此可以自行制定指令集和执行引擎的结构体系。<strong>虽然“虚拟机”可以自己搞执行引擎，但最后还是得翻译为机器指令才能使计算机识别。</strong></p> <p>JAVA 与 C / C++ 比较，便多加了一道程序------翻译结果交给 JVM，让它处理为计算机可以识别的东西。而这多带来的一道程序带来的好处便是“<strong>屏蔽掉各种硬件和操作系统的内存访问差异</strong>”。C 等语言编译生成的程序（<strong>.o</strong> 等）与平台相关，而 Java 的翻译结果（ <strong>.class文件</strong>）可以在拥有 Jvm 的任何平台上运行。</p> <p>Java 虚拟机并不是专为 Java 语言设计的。Java 虚拟机只与 class 文件关联，它并不在乎 class 文件来源于何种语言。那些能生成 class 的语言，如 JRuby 也是 Java 技术体系的一员。同时，在说“class文件”时也不仅指某个具体磁盘中的文件，而应当是一串二进制的字节流，无论以何种形式存在都可以。（远程调用之类）</p> <h2 id=_3>流程<a class=headerlink href=#_3 title="Permanent link">#</a></h2> <p>Java 代码首先转换为 class 文件，class 文件结构的学习可以和 C 的符号表类比。</p> <p>然后是虚拟机来加载字节码。涉及到虚拟机类加载机制。</p> <p>又涉及到内存的分配，垃圾回收。</p> <ol> <li>JVM 主要分为三块：类加载系统，运行时数据区，执行引擎</li> <li>JVM 主要由类加载器子系统，运行时数据区（内存空间），执行引擎以及本地方法接口等组成。其中运行时数据区又由方法区，堆，Java栈，PC寄存器，本地方法栈组成。</li> <li>内存空间中方法区和堆是所有 Java线程 共享的，而 Java栈，本地方法栈，PC寄存器 则由每个线程私有。（这会引出一些问题）</li> </ol> <h3 id=jvm>JVM 执行的简单流程<a class=headerlink href=#jvm title="Permanent link">#</a></h3> <ol> <li>类加载系统（Class Loader Subsystem）：负责验证并加载 .class 文件，主要可划分为 3 个步骤。</li> <li>加载（Loading）：类在这一块被加载到内存中去<ol> <li>Boot Strap class Loader，加载系统引导类（$JAVA_HOME/jre/lib）</li> <li>Extension class Loader，加载扩展类（$JAVA_HOME/jre/lib/ext）</li> <li>Application class Loader，也被称为 User class Loader，加载应用层级的类</li> </ol> </li> <li>链接（Linking）<ol> <li>Verify，验证字节码是否正确</li> <li>Prepare，分配静态变量并且设置默认值</li> <li>Resolve，原始引用所有的符号引用都会被替换成指向方法区的</li> </ol> </li> <li>初始化（Initialization）：所有的静态变量都会被赋值。执行顺序，由父类到子类。</li> <li>运行时数据区（Runtime Data Area）</li> <li>方法区：保存类数据信息，包括成员信息，父类和接口信息，运行时常亮池等。（JVM 共享）</li> <li>堆区：保存所有的对象信息，JVM 共享</li> <li>栈区：每个线程独有自己的栈，生命周期和线程一致。</li> <li>PC寄存器区：储存当前执行指令的地址，若执行的是本地方法，pc 为 null。</li> <li>本地方法栈区：和栈区一致，只不过存放的是本地方法信息。</li> <li>执行引擎（Execution Emgine）：负责执行代码，执行引擎会依次读取字节码并且按顺序执行。一般来说可划分为如下几项。</li> <li>字节码解释器（Bytecode Interpreter）：执行字节码。优点：执行开销小。缺点：执行效率低。</li> <li>模板解释器：和字节码解释器差不多，不同点在于直接把对应的指令集转成本地代码。</li> <li>JIT 编译器：可以针对热点代码优化，执行开销较大，但是能够针对性的优化，效率最高。</li> <li>垃圾回收器：负责回收不再使用的对象，释放和整理内存。</li> <li>Java Native Interface：JNI，暴露了本地方法的接口，使 Java 可以调用本地方法。</li> <li>Native Method Libraries：本地方法库。</li> </ol> <h2 id=_4>类文件结构<a class=headerlink href=#_4 title="Permanent link">#</a></h2> <h3 id=_5>类文件（二进制编码）<a class=headerlink href=#_5 title="Permanent link">#</a></h3> <ol> <li>一组以 8 位字节码为基础单位的二进制流，各个数据项目严格按照顺序紧凑地排列在 class 文件中，中间没有任何分隔符。</li> <li>当遇到需要占用 8 位字节以上空间的数据项时，则会按照 高位在前（Big-Endian，大端） 的方式分割为若干个 8 位字节进行储存。</li> </ol> <h3 id=_6>格式<a class=headerlink href=#_6 title="Permanent link">#</a></h3> <p>采用一种类似 C语言 结构体的伪结构来存储数据。</p> <ol> <li>无符号数：基本的数据类型</li> <li>表：多个无符号数或其他表作为数据项构成的复合数据类型</li> </ol> <h3 id=_7>......<a class=headerlink href=#_7 title="Permanent link">#</a></h3> <p>没仔细看，和编译原理重叠挺大的...</p> <h2 id=_8>类加载<a class=headerlink href=#_8 title="Permanent link">#</a></h2> <blockquote> <p>虚拟机把描述类的数据从 class 文件加载到内存，并对数据进行 效验，转换，解析，初始化。最终形成可被虚拟机直接使用的 java 类型。</p> </blockquote> <p>这句话对应的就是 加载，连接，初始化。</p> <p>在 Java 语言中，类型的加载，连接和初始化过程都是在程序的<strong>运行期间</strong>完成的，类加载时会稍微增加一些开销，但是为其添加了灵活性。（在 <strong>动态加载</strong> 等方面体现）</p> <h3 id=_9>时机<a class=headerlink href=#_9 title="Permanent link">#</a></h3> <ol> <li> <p>加载（Loading）：虚拟机把描述类的数据从 class 文件加载到内存</p> </li> <li> <p>连接（Linking）</p> </li> <li> <p>验证（Verification）：对虚拟机的类加载机制来说，这是一个很重要但不是必要的阶段（对程序运行期无影响）。可以用 <code>-Xverify:none</code> 参数关闭大部分的类验证措施。</p> <ol> <li>文件格式验证：验证字节流是否符合 Class 文件格式的规范，并且能够被虚拟机处理。主要目的是确保输入的字节流能正确地解析并存储于方法区之内。后面的三个验证阶段都是基于方法区的存储结构进行的，不会再操作字节流。</li> <li>元数据验证：语义分析，保证不存在不符合 Java 语言规范的元数据信息。</li> <li>字节码验证。确定程序语义合法，符合逻辑。</li> <li>符号引用验证：可以看做是对类自身以外（常量池的各种符号引用）的信息进行匹配性效验。</li> </ol> </li> <li> <p>准备（Preparation）：正式为类变量分配内存并设置类变量初始值（0，null 等值）的阶段（ <strong>还不会执行任何方法，包括构造方法。</strong> 若存在 ConstantValue 的属性，就会初始化为 ConstantValue 属性指定的值）。</p> <blockquote> <p>public static int value = 123;//在这个阶段 value 值为 0</p> <p>public static final int value = 123;//在这个阶段 value 值为 123</p> </blockquote> <p>PS：经常见到这类题呀！其实考察的就是这个知识。</p> <p>看看这篇文章：<a href=https://blog.csdn.net/honjane/article/details/51835636>Class类文件结构之ConstantValue属性</a></p> <blockquote> <p><strong>final、static、static final修饰的字段赋值的区别</strong></p> <ul> <li>static修饰的字段在加载过程中准备阶段被初始化，但是这个阶段只会赋值一个默认的值（0或者null而并非定义变量设置的值）初始化阶段在类构造器中才会赋值为变量定义的值。</li> <li>final修饰的字段在运行时被初始化，可以直接赋值，也可以在实例构造器中赋值，赋值后不可修改。</li> <li>static final修饰的字段在javac编译时生成comstantValue属性，在类加载的准备阶段直接把constantValue的值赋给该字段。 可以理解为在编译期即把结果放入了常量池中。</li> </ul> </blockquote> </li> <li> <p>解析（Resolution）：虚拟机将常量池内的符号引用替换为直接引用的过程。</p> <blockquote> <ol> <li>直接引用和符号引用是什么？有什么关系？</li> </ol> </blockquote> </li> <li> <p>初始化（Initialization）：真正开始执行类中定义的 Java 程序代码。</p> </li> <li> <p>使用（Using）</p> </li> <li> <p>卸载（U6nloading）</p> </li> </ol> <p>最终形成可被虚拟机直接实用的 Java类型。</p> <h3 id=_10>类加载器<a class=headerlink href=#_10 title="Permanent link">#</a></h3> <p>只能用于实现类的加载动作。</p> <p>这一块，虚拟机设计团队把它放在虚拟机外部去实现，以便让应用程序自己决定如何去获取需要的类。</p> <p>这样的好处是什么？</p> <p>类加载器的设置把类的来源与执行解耦了，虚拟机可以不用关心类从何而来，可以是本地编译的 class 文件，也可以是网络上下载的二进制文件。</p> <p>类加载器在类层次划分，OSGI，热部署，代码加密等领域都有应用...</p> <p>每一个类加载器都有一个独立的类名称空间。如果两个类来源于同一个 class 文件，被同一个虚拟机加载，但是实现加载操作的类加载器不同，那么这两个类就不相等（这里的相等，指的是 equals()，isAssignableFrom()，isInstance() 方法的返回结果，instanceof 关键字做对象所属1关系判定等情况）。</p> <h4 id=_11>双亲委派模型<a class=headerlink href=#_11 title="Permanent link">#</a></h4> <p>如果一个类加载器收到了类加载的请求，它首先把这个请求委派给父类加载器去完成，每一个类加载器都是如此。所以所有的加载请求最终都会被传送到最顶层的启动类加载器去，当父加载器无法完成这个请求时（它的搜索范围没有找到所需的类），子加载器才会尝试自己去加载。</p> <p>好处？</p> <p>与类加载的性质有关，子加载器如果自行加载了一个父加载器也能加载的类，乃至所有的加载器都自己处理加载，那在运行过程就会产生上面描述的问题，即产生多个本该相等的类（可能由一个 class 文件产生了多个由不同类加载器加载得到的类。）</p> <p>双亲委派很好地解决了各个类加载器的基础类的统一问题（越基础的类由越上层的加载器进行加载）。基础类之所以称为“基础”，是因为它们总是作为被用户代码调用的 api。</p> <ul> <li>双亲委派模型被挑战</li> </ul> <p>JNDI 服务等，会产生基础类又要调用用户的代码的需求。Java 设计团队引入了：线程上下文类加载器。</p> <p>OSGI，代码热替换，模块热部署。</p> <h2 id=_12>内存管理机制<a class=headerlink href=#_12 title="Permanent link">#</a></h2> <p>虚拟机如何使用内存？</p> <p>JVM 在执行 JAVA 程序的过程中会把它所管理的内存划分为若干个不同的数据区域，这些区域都有各自的用途。</p> <p>这里先提一下 JAVA 堆，所有的对象实例和数组都要在这款内存上分配（因为一些优化技术，这也并不绝对），上面的类加载完成后，就要开始在这块内存上创建对象。</p> <p>注意：平时我们把管理的内存分为堆，栈，这两者和 JAVA 堆的区别。</p> <p>注意：与内存回收相联系。</p> <h3 id=_13>运行时数据区<a class=headerlink href=#_13 title="Permanent link">#</a></h3> <h4 id=_14>程序计数器<a class=headerlink href=#_14 title="Permanent link">#</a></h4> <p>计算机系统也有接触嘛，都类似...</p> <ol> <li>工作方式：在虚拟机的概念模型里（实际实现可能会用其他更高效的方式），字节码解释器工作时就是通过改变这个计数器的值来选取下一条需要执行的字节码指令。</li> <li>唯一一个在 JAVA 虚拟机规范中没有规定任何 OutOfMemoryError 情况的区域。</li> <li>线程私有！------&gt; 为了线程切换后能恢复到正确的执行位置 ------&gt; JAVA 虚拟机的多线程实现方式是通过线程轮流切换并分配处理器时间实现的。（与物理机类似嘛，所以在任意一个确定的时刻，一个处理器（内核）都只会执行一条线程中的指令。因为 cpu 速度太快，所以给人一种并行的感觉。）</li> </ol> <blockquote> <p>线程私有的区域只有，程序计数器，虚拟机栈，本地方法栈这三个。</p> <p>所有线程共享：方法区，JAVA 堆</p> </blockquote> <h4 id=_15>虚拟机栈<a class=headerlink href=#_15 title="Permanent link">#</a></h4> <p>方法执行的内存模型</p> <p>每一个方法的调用直到执行完成，就对应一个栈帧在虚拟机栈中入栈到出栈的过程。</p> <p>这里就 <strong>相当于平时所说的栈</strong> 嘛，比如平时会说，形参在栈中分配...之类的。</p> <p>这里的栈帧就是一个用于虚拟机进行方法调用和方法执行得数据结构，它存放的是一个函数（方法）的上下文，具体就是存放的执行的函数的一些数据（比如说有形参）。</p> <p>实际上存放了：局部变量表，操作数栈，方法出口。</p> <p>之前学操作系统，在汇编层面，执行代码，内存地址变化是，1,2,3,4...进入一个函数，地址就变为15，退出这个函数后，地址又返回4，再5,6...这里的变化实际上就是内存到了栈里去执行。</p> <p>异常情况：StackOverflowError，outOfMemoryError</p> <h4 id=_16>本地方法栈<a class=headerlink href=#_16 title="Permanent link">#</a></h4> <p>类似上面。</p> <p>本地方法就是其它语言封装的函数。</p> <h4 id=java>JAVA 堆<a class=headerlink href=#java title="Permanent link">#</a></h4> <ol> <li>几乎所有的对象实例都在这分配。</li> <li>内存回收的主要区域！</li> <li>被所有线程共享的一块数据区域。</li> <li>在 JVM 启动时创建。</li> <li>唯一的目的是存放对象实例。</li> <li>从垃圾回收的角度：分为新生代，老年代</li> <li>从内存分配的角度：可能划分为多个线程私有的分配缓冲区</li> </ol> <h4 id=_17>方法区<a class=headerlink href=#_17 title="Permanent link">#</a></h4> <ol> <li>用于储存已被虚拟机加载的类信息，常亮，静态变量，即时编译器编译后的代码等数据。</li> <li>线程共享：每个线程都能访问同一个类的静态变量对象。</li> <li>这块区域在垃圾回收时，因为使用了反射机制，JVM 很难推测出哪个类的信息不再使用，难以实现垃圾回收。</li> <li>这块区域针对常量池（运行时常量池，存放编译期生成的各种字面量和符号引用）回收，但 JDK1.7 ①把常量池转移至堆里。</li> </ol> <p>PS：<strong>JDK</strong> 是用于支持 JAVA 程序开发的最小环境</p> <p>可以把 JAVA API 类库中的 JAVA SE API 子集和 JAVA 虚拟机 两部分统称为 <strong>JRE</strong> 。</p> <h2 id=_18>数据如何创建，布局，访问？<a class=headerlink href=#_18 title="Permanent link">#</a></h2> <p>在类加载检查通过后，虚拟机为新生对象分配内存。</p> <p>为对象分配内存的任务等同于把一块确定大小的内存从 <strong>JAVA 堆</strong> 中划分出来。</p> <p>那么在虚拟机内存中，数据是如何创建，布局，访问的？</p> <h3 id=java-class>对象的创建（普通 java 对象，不包括数组和 class 对象等）<a class=headerlink href=#java-class title="Permanent link">#</a></h3> <p>在代码层面，我们通常通过 new 指令来创建一个对象（这里只讨论这种方式，反射之类的不提。PS：所以有了那个笑话，没有对象怎么办？new 一个....），JVM 遇到这条 new 指令，首先将去检查这个指令的参数是否能在常量池中定位到一个类的符号的引用，并且检查这个符号引用代表的类是否已被加载，解析，初始化过。若没有，那就必须先执行相应的 <strong>类加载过程</strong> （加载完成后便能确定对象所需的内存）。</p> <h4 id=_19>为对象分配空间<a class=headerlink href=#_19 title="Permanent link">#</a></h4> <p>分配方式的选择取决于 JAVA 堆是否规整。</p> <ol> <li>绝对规整（用过的内存放一边，空闲的放另一边）：指针碰撞的方式（直接划分就好啦）</li> <li>并不规整（已使用的内存和空闲内存相互交错）：空闲列表（需要一个列表来保存内存的信息，哪里可用哪里不能用）</li> </ol> <blockquote> <p>因此，在使用 Serial，ParNew 等带 Compact （压缩整理）过程的垃圾收集器时，系统采用指针碰撞。</p> <p>使用 CMS 这种基于 Mark-Sweep 算法的收集器时，用空闲列表。</p> </blockquote> <p>（混合使用，各有优劣嘛...）</p> <h4 id=_20>考虑到并发<a class=headerlink href=#_20 title="Permanent link">#</a></h4> <p>创建对象这个动作是很频繁的，要考虑到线程安全。</p> <p>两种方案。</p> <ol> <li>对分配内存空间的动作进行同步处理，保证更新操作的原子性。</li> <li>把内存分配动作按线程划分在不同区域。</li> </ol> <h4 id=_21>内存分配完成后，将内存空间初始化为零值（不包括对象头）<a class=headerlink href=#_21 title="Permanent link">#</a></h4> <p>why？</p> <p>这一步操作保证了对象的实例字段在 java 代码中不附初始值就可以直接使用，<strong>程序能访问到这些字段的数据类型对应的零值</strong> 。</p> <h4 id=_22>对对象进行设置<a class=headerlink href=#_22 title="Permanent link">#</a></h4> <p>在对象头存放信息，这是谁的实例。如何才能找到类的元数据信息，对象的哈希码，对象的 GC 分代年龄等信息。</p> <h4 id=_23>最后<a class=headerlink href=#_23 title="Permanent link">#</a></h4> <p>经过上面步骤，在虚拟机的视角上，新的对象已经产生啦！</p> <p>在 java 程序的角度，对象创建才刚刚开始。</p> <p>接下来，紧跟着执行 <code>&lt;init&gt;</code> 方法，把对象按照程序员的意愿进行初始化，这样一个真正可用的对象才算完全产生出来。</p> <h3 id=_24>对象的内存布局<a class=headerlink href=#_24 title="Permanent link">#</a></h3> </article> </div> </div> </main> <footer class=md-footer> <div class=md-footer-nav> <nav class="md-footer-nav__inner md-grid"> <a href=../2018-06-07-computer/ title=计算机系统基础 class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel=prev> <div class="md-flex__cell md-flex__cell--shrink"> <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i> </div> <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"> <span class=md-flex__ellipsis> <span class=md-footer-nav__direction> 上一页 </span> 计算机系统基础 </span> </div> </a> <a href=../2018-11-25-computer/ title=计算机系统概论 class="md-flex md-footer-nav__link md-footer-nav__link--next" rel=next> <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"> <span class=md-flex__ellipsis> <span class=md-footer-nav__direction> 下一页 </span> 计算机系统概论 </span> </div> <div class="md-flex__cell md-flex__cell--shrink"> <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i> </div> </a> </nav> </div> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-footer-copyright> powered by <a href=https://www.mkdocs.org target=_blank rel=noopener>MkDocs</a> and <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs</a> </div> <div class=md-footer-social> <link rel=stylesheet href=../../../../assets/fonts/font-awesome.css> <a href=https://leay.net target=_blank rel=noopener title=home class="md-footer-social__link fa fa-home"></a> <a href=https://github.com/hqweay target=_blank rel=noopener title=github class="md-footer-social__link fa fa-github"></a> </div> </div> </div> </footer> </div> <script src=../../../../assets/javascripts/application.c33a9706.js></script> <script src=../../../../assets/javascripts/lunr/lunr.stemmer.support.js></script> <script src=../../../../assets/javascripts/lunr/tinyseg.js></script> <script src=../../../../assets/javascripts/lunr/lunr.ja.js></script> <script src=../../../../assets/javascripts/lunr/lunr.multi.js></script> <script>app.initialize({version:"1.1",url:{base:"../../../.."}})</script> </body> </html>